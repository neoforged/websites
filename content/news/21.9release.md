---
title: "NeoForge 21.9 for Minecraft 1.21.9"
# TODO: update date
date: 2025-09-17T21:25:00+02:00
draft: false
categories:
- News
- Releases
author: neoforgedteam
summary: "All you need to know about NeoForge 21.9, now released for Minecraft 1.21.9."
description: "All you need to know about NeoForge 21.9, now released for Minecraft 1.21.9."
---

The first beta release of NeoForge 21.9 for Minecraft 1.21.9 is now available: `21.9.0-beta`.
<!-- This post covers a small subset of the vanilla changes, to get you started with the update! -->

## FML changes
FML is the part of a NeoForge installation, both for users and for modders, that handles the startup of Minecraft, locates the mods and libraries from various sources, handles mod dependency resolution, and so on...

This release comes with a large update and refactor of FML, completely rewriting how the game is started and the classloader is setup,
with the goal of making FML more straightforward and also slightly faster.

In the coming weeks, we will also look into reworking how transformations via coremods and `ILaunchPluginService` operate. Note that this will not affect mixins.

### Access to FML state
Most of FML's state must now be accessed via `FMLLoader.getCurrent()`.
For the common case of checking the current distribution and whether the environment is production,
static getters are available in `FMLEnvironment`.

Migration should be quite mechanical:
```diff
  // Check for client vs dedicated service distribution:
- FMLEnvironment.dist
+ FMLEnvironment.getDist()

  // Check for development vs production:
- FMLEnvironment.production
+ FMLEnvironment.isProduction()

  // Access the current game directory:
- FMLLoader.getGamePath()
+ FMLLoader.getCurrent().getGameDir()
```

### Additional runtime classpath / Runtime dependencies
Previous versions of FML would only load mods from the classpath, but not libraries.
This meant that adding external libraries required special handling,
such as using `additionalRuntimeClasspath` with ModDevGradle (MDG) or adding `runtime` dependencies for the runs with NeoGradle (NG).

FML will now load anything that is available on the classpath in development, including libraries.
Minecraft, mods, and game libraries[^1] will be loaded in a transformable module layer, whereas other libraries will remain available through the normal classloader.
As a result, library dependencies can now be added through standard Gradle means without needing to add them to a special classpath:
```diff
  dependencies {
      // This is still required to add the library in your jar and at compile+run time.
      jarJar(implementation("org.commonmark:commonmark:0.21.0"))
-     // This can be removed since implementation dependencies are already made available at runtime:
-     additionalRuntimeClasspath "org.commonmark:commonmark:0.21.0"
}
```

Adding dependencies to `additionalRuntimeClasspath` has no effect anymore.
Future versions of MDG will likely disallow using it entirely in Minecraft 1.21.9 and newer.

### Other FML usage
Resources belong to a mod jar are now accessed via an interface called `JarContents`,
which can be obtained using `IModFile#getContents`.

Modders making use of other advanced FML features, such as language loaders or other sorts of FML plugin developers, will be affected to a larger extent.
Don't hesitate to come and ask for support in [the NeoForge Discord server](https://discord.neoforged.net) if you need help ugrading.

## Transfer rework

TODO: Link to blog post. Mention somewhere it is not in the very first build.

## Selected vanilla changes?

TODO: Look at what xfact and pup posted

## Finding out what needs to be migrated
A good strategy to migrate your mod is to have a working Minecraft 1.21.8 workspace alongside your in-progress Minecraft 1.21.9 workspace.
This allows you to quickly find out how to update specific pieces of code.
The workflow is as follows:
1. Find a function call that doesn't compile anymore in 1.21.9.
2. Find the same function call in the 1.21.8 workspace that still compiles.
3. Right click the function call, and go to a vanilla usage of the method. _Note_: In IntelliJ, this requires the Minecraft sources to be attached, and the scope for the search needs to be set to `All Places`!
4. Go to the same vanilla usage in 1.21.9, and compare to see how vanilla updated their code.
5. In many cases it is enough to make the same change to your code.

This can also be applied on a larger scale than a function call, for example to learn how block entity rendering changed between 1.21.8 and 1.21.9.

## Porting Primer
A porting primer covering a lot more of Minecraft's changes is available [here](https://github.com/neoforged/.github/blob/main/primers/1.21.9/index.md) (courtesy of `@ChampionAsh5357`).
<!-- TODO: use permalink if the primer is not merged in time -->

Happy porting!

[^1]: Game libraries are libraries that have `FMLModType: GAMELIBRARY` in their manifest. They can access Minecraft and mod classes, and are targetable by mixins and other bytecode transformations.
