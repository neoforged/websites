<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
{{ if not ( .Page.Scratch.Get "nfJS") }}
  {{ $js:= resources.Get "js/neoforge.js" }}
  <script src="{{ $js.RelPermalink }}"></script>
  {{ .Page.Scratch.Set "nfJS" "hi" }}
{{ end }}

    <div id="installerSection" class="installer_section">
        <div>
            <h1>NeoForge installer files</h1>
            <p>You can find a direct link to our installer files here:</p>
        </div>

        <div id="filelist" class="fileinfo">
            <div class="fileinfo__body">
                <div class="selection_row">
                    <div class="selection_block">
                        <label for="minecraftversions">Minecraft Version:&nbsp;</label>
                        <select name="Minecraft Versions" id="minecraftversions" class="select2-mode" disabled>
                            <option value="">Loading...</option>
                        </select>
                    </div>
                    <div class="selection_block">
                        <label for="neoforgeversions">NeoForge Version:&nbsp;</label>
                        <select name="Neoforge Versions" id="neoforgeversions" class="select2-mode" disabled>
                            <option value="">Loading...</option>
                        </select>
                    </div>
                </div>
                <!--Inlined styles to ensure the one time loading phase looks correct and matched populated phase-->
                <div class="download_row" style="flex-grow: 2;">
                    <a id="installerlink"><span>Loading...</span></a>
                    <a id="changeloglink"><span>Loading...</span></a>
                </div>
            </div>
        </div>
    </div>

<script>
    document.addEventListener("readystatechange", evt=>{
        if (evt.target.readyState === "complete") {
            loadVersions();
        }
    });
</script>
